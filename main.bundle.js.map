{"version":3,"sources":["webpack://castle-game/./src/modules/engine.js","webpack://castle-game/./src/modules/gameBoard.js","webpack://castle-game/./src/modules/castle.js","webpack://castle-game/./src/modules/timer.js","webpack://castle-game/./src/modules/questionGenerator.js","webpack://castle-game/./src/modules/scoreHandler.js","webpack://castle-game/./src/modules/defaultSettings.js","webpack://castle-game/./src/modules/domUtils.js","webpack://castle-game/./src/modules/game.js","webpack://castle-game/./src/modules/enemy.js","webpack://castle-game/./src/index.js"],"names":["element","document","querySelector","height","width","lives","elements","container","getElementById","livesText","setup","this","draw","damage","amount","onGameOver","textContent","Math","max","duration","onFinish","autoRestart","timeRemaining","Object","freeze","tick","deltaTime","getHumanTimeRemaining","seconds","ceil","minutes","floor","operatorDifficulty","easy","medium","hard","insane","wholeNumberGenerator","number","random","questionNumberGenerator","difficulty","generateDifficulty","operator","length","indexOperatorGenerator","operatorSelector","number1","number2","questionText","text","answer","question","questionArr","split","num1","Number","num2","answerQuestion","scoreElements","querySelectorAll","score","forEach","addPoints","reset","SPAWN_POINTS","FIRST_LANE","x","y","SECOND_LANE","THIRD_LANE","POINTS","CORRECT_ANSWER","WRONG_ANSWER","CASTLE_LIFE_LOST","enemySpeed","enemySpeedIncrement","spawnTimerMs","gameTimerMs","questionDifficulty","castleStartingLives","hideElement","style","display","showElement","displayValue","GAMESTATES","MENU","RUNNING","GAMEOVER","PAUSED","startPage","gamePage","gameOverPage","answerForm","answerInput","gameTimer","wrongAnswersEl","timers","fieldWidth","settings","gameState","selectedEnemy","wrongAnswers","enemies","spawnEnemy","enemy","position","speed","handleSelectEnemy","damageCastle","deleteEnemy","enemyElement","createElement","questionElement","classList","add","appendChild","addEventListener","handleDelete","remove","update","transform","toggleSelect","toggle","getRandomSpawnPoint","push","keys","filter","handleAnswerSubmit","event","preventDefault","value","trim","correctAnswer","toString","scoreHandler","focus","clickedEnemy","find","currentTarget","gameOver","spawnTimer","start","restart","pause","unPause","key","constructor","render","running","rafID","undefined","accumulatedTime","currentTime","timeStep","cycle","bind","timeStamp","requestAnimationFrame","updated","stop","cancelAnimationFrame","game","startButton","restartButton","pauseButton","first","second"],"mappings":"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","file":"main.bundle.js","sourcesContent":["class Engine {\n    constructor(update, render) {\n        this.running = false;\n        this.rafID = undefined;\n\n        this.update = update;\n        this.draw = render;\n\n        this.accumulatedTime = 0;\n        this.currentTime = 0;\n        this.timeStep = 1000 / 60;\n\n        this.cycle = this.cycle.bind(this);\n    }\n\n    cycle(timeStamp) {\n        this.rafID = requestAnimationFrame(this.cycle);\n\n        this.accumulatedTime += timeStamp - this.currentTime;\n        this.currentTime = timeStamp;\n\n        let updated = false;\n\n        if (this.accumulatedTime > 60) {\n            this.accumulatedTime = this.timeStep;\n        }\n\n        while (this.accumulatedTime >= this.timeStep) {\n            this.update(this.timeStep);\n\n            updated = true;\n\n            this.accumulatedTime -= this.timeStep;\n        }\n\n        if (updated) this.draw();\n    }\n\n    start() {\n        this.running = true;\n        this.rafID = requestAnimationFrame(this.cycle);\n    }\n\n    stop() {\n        this.running = false;\n        cancelAnimationFrame(this.rafID);\n    }\n}\n\nexport default Engine;\n","const gameBoard = {\n    element: document.querySelector('#game-board'),\n    height: 400,\n    width: 900,\n};\n\nexport default gameBoard;\n","const castle = {\n    height: 400,\n    width: 200,\n    lives: null,\n    elements: {\n        container: document.getElementById('castle'),\n        livesText: document.getElementById('castle-lives'),\n    },\n\n    setup(lives) {\n        this.lives = lives;\n        this.draw();\n    },\n\n    damage(amount, onGameOver) {\n        this.lives -= amount;\n        this.draw();\n\n        if (this.lives === 0) onGameOver();\n    },\n\n    draw() {\n        this.elements.livesText.textContent = Math.max(0, this.lives);\n    },\n};\n\nexport default castle;\n","function Timer(duration, onFinish, { autoRestart = true } = {}) {\n    let timeRemaining = duration;\n\n    function restart() {\n        timeRemaining = duration;\n    }\n\n    function handleComplete() {\n        onFinish();\n        if (autoRestart) restart();\n    }\n\n    function tick(deltaTime) {\n        timeRemaining = Math.max(0, timeRemaining - deltaTime);\n\n        if (timeRemaining <= 1) handleComplete();\n    }\n\n    // converts time in ms to mm:ss format\n    function getHumanTimeRemaining() {\n        const seconds = Math.ceil(timeRemaining / 1000) % 60;\n        const minutes = Math.floor(Math.ceil(timeRemaining / 1000) / 60);\n\n        const formatedSeconds = seconds < 10 ? `0${seconds}` : seconds;\n        const formattedMinutes = minutes < 10 ? `0${minutes}` : minutes;\n\n        return `${formattedMinutes}:${formatedSeconds}`;\n    }\n\n    return Object.freeze({\n        tick,\n        getHumanTimeRemaining,\n    });\n}\n\nexport default Timer;\n","// \\u00D7 is the unicode symbol for multiplication and \\u00F7 for division in Javascript.\n\nconst operatorDifficulty = {\n    easy: ['+', '-'],\n    medium: ['+', '-', '\\u00D7'],\n    hard: ['+', '-', '\\u00D7'],\n    insane: ['+', '-', '\\u00D7', '\\u00F7'],\n};\n\nconst wholeNumberGenerator = (number) => Math.floor(Math.random() * number);\n\n// Change difficulty here as this is the factor of multiplication that determines range of numbers.\nconst generateDifficulty = (difficulty) => {\n    switch (difficulty) {\n        case 'easy':\n            return 5;\n        case 'medium':\n            return 10;\n        case 'hard':\n            return 30;\n        case 'insane':\n            return 100;\n        default:\n            return 5;\n    }\n};\n\nconst indexOperatorGenerator = (difficulty) =>\n    wholeNumberGenerator(operatorDifficulty[difficulty].length);\n\nconst operatorSelector = (difficulty) =>\n    operatorDifficulty[difficulty][indexOperatorGenerator(difficulty)];\n\nconst questionNumberGenerator = (difficulty) =>\n    wholeNumberGenerator(generateDifficulty(difficulty)) + 1;\n\nconst answerQuestion = (question) => {\n    const questionArr = question.split(' ');\n    const num1 = Number(questionArr[0]);\n    const operator = questionArr[1];\n    const num2 = Number(questionArr[2]);\n    let answer;\n    if (operator === '+') {\n        answer = num1 + num2;\n    } else if (operator === '-') {\n        answer = num1 - num2;\n    } else if (operator === '\\u00D7') {\n        answer = num1 * num2;\n    } else {\n        answer = num1 / num2;\n    }\n    return answer;\n};\n\nconst questionGenerator = (difficulty) => {\n    const operator = operatorSelector(difficulty);\n    let number1 = questionNumberGenerator(difficulty);\n    let number2 = questionNumberGenerator(difficulty);\n    // Functions that will determine question difficulty\n    while (operator === '\\u00F7') {\n        if (number1 % number2 !== 0) {\n            number1 = questionNumberGenerator(difficulty);\n            number2 = questionNumberGenerator(difficulty);\n        } else {\n            break;\n        }\n    }\n    while (operator === '-') {\n        if (number1 - number2 < 0) {\n            number1 = questionNumberGenerator(difficulty);\n            number2 = questionNumberGenerator(difficulty);\n        } else {\n            break;\n        }\n    }\n\n    while (operator === '\\u00D7') {\n        if (number1 * number2 > 150) {\n            number1 = questionNumberGenerator(difficulty);\n            number2 = questionNumberGenerator(difficulty);\n        } else {\n            break;\n        }\n    }\n\n    while (operator === '+') {\n        if (number1 + number2 > 150) {\n            number1 = questionNumberGenerator(difficulty);\n            number2 = questionNumberGenerator(difficulty);\n        } else {\n            break;\n        }\n    }\n\n    const questionText = `${number1} ${operator} ${number2}`;\n    const answer = answerQuestion(questionText);\n\n    return {\n        text: questionText,\n        answer,\n    };\n};\n\nexport default questionGenerator;\n","const scoreElements = document.querySelectorAll('[data-score-display]');\n\nlet score = 0;\n\nfunction draw() {\n    scoreElements.forEach((element) => {\n        const el = element;\n        el.textContent = `Score: ${score}`;\n    });\n}\n\nfunction addPoints(amount) {\n    if (amount < 0) {\n        score = Math.max(0, score + amount);\n    } else {\n        score += amount;\n    }\n    draw();\n}\n\nfunction reset() {\n    score = 0;\n    draw();\n}\n\nexport default Object.freeze({ addPoints, reset });\n","const DEFAULT_SETTINGS = {\n    SPAWN_POINTS: {\n        FIRST_LANE: { x: 0, y: 50 },\n        SECOND_LANE: { x: 0, y: 165 },\n        THIRD_LANE: { x: 0, y: 280 },\n    },\n    POINTS: {\n        CORRECT_ANSWER: 10,\n        WRONG_ANSWER: -2,\n        CASTLE_LIFE_LOST: -10,\n    },\n    enemySpeed: 40,\n    enemySpeedIncrement: 3,\n    spawnTimerMs: 2500,\n    gameTimerMs: 300000,\n    questionDifficulty: 'medium',\n    castleStartingLives: 3,\n};\n\nexport default DEFAULT_SETTINGS;\n","function hideElement(element) {\n    const el = element;\n    el.style.display = 'none';\n}\n\nfunction showElement(element, displayValue) {\n    const el = element;\n    el.style.display = displayValue;\n}\n\nexport { hideElement, showElement };\n","import gameBoard from './gameBoard';\nimport castle from './castle';\nimport Enemy from './enemy';\nimport Timer from './timer';\nimport questionGenerator from './questionGenerator';\nimport scoreHandler from './scoreHandler';\nimport DEFAULT_SETTINGS from './defaultSettings';\nimport { hideElement, showElement } from './domUtils';\n\nconst GAMESTATES = {\n    MENU: 0,\n    RUNNING: 1,\n    GAMEOVER: 2,\n    PAUSED: 3,\n};\n\nconst startPage = document.querySelector('#start-page');\nconst gamePage = document.querySelector('#game-page');\nconst gameOverPage = document.querySelector('#game-over-page');\nconst answerForm = document.querySelector('.answer-form');\nconst answerInput = document.querySelector('#answer-input');\nconst gameTimer = document.querySelector('#game-timer');\nconst wrongAnswersEl = document.querySelector('#game-over-wrong-answers');\n\nconst timers = {};\nconst fieldWidth = gameBoard.width - castle.width;\n\nlet settings = { ...DEFAULT_SETTINGS };\nlet gameState = GAMESTATES.MENU;\nlet selectedEnemy = null;\nlet wrongAnswers = 0;\nlet enemies = [];\n\n// PRIVATE FUNCTIONS\n\nfunction spawnEnemy() {\n    const enemy = Enemy({\n        position: getRandomSpawnPoint(),\n        speed: settings.enemySpeed,\n        question: questionGenerator(settings.questionDifficulty),\n        fieldWidth,\n        handleSelectEnemy,\n        damageCastle,\n        deleteEnemy,\n    });\n    settings.enemySpeed += settings.enemySpeedIncrement;\n    gameBoard.element.appendChild(enemy.element);\n    enemies.push(enemy);\n}\n\nfunction getRandomSpawnPoint() {\n    // randomly choose an object keys in the POSITION object\n    const keys = Object.keys(settings.SPAWN_POINTS);\n    return settings.SPAWN_POINTS[keys[Math.floor(Math.random() * keys.length)]];\n}\n\nfunction deleteEnemy(element) {\n    enemies = enemies.filter((enemy) => {\n        if (enemy.element !== element) return true;\n\n        if (selectedEnemy === enemy) {\n            selectedEnemy = null;\n        }\n\n        return false;\n    });\n}\n\nfunction initialiseTimers() {\n    // spawn enemy every 2.5 seconds\n    timers.spawnTimer = Timer(settings.spawnTimerMs, spawnEnemy);\n\n    // end game after 300000 ms (5 minutes)\n    timers.gameTimer = Timer(settings.gameTimerMs, gameOver, {\n        autoRestart: false,\n    });\n}\n\nfunction handleAnswerSubmit(event) {\n    event.preventDefault();\n\n    if (!selectedEnemy || answerInput.value.trim() === '') return;\n\n    const correctAnswer = selectedEnemy.question.answer.toString();\n    const userAnswer = answerInput.value;\n\n    if (userAnswer === correctAnswer) {\n        selectedEnemy.handleDelete();\n        selectedEnemy = null;\n        scoreHandler.addPoints(settings.POINTS.CORRECT_ANSWER);\n    } else {\n        scoreHandler.addPoints(settings.POINTS.WRONG_ANSWER);\n        wrongAnswers += 1;\n    }\n\n    answerInput.value = '';\n}\n\nfunction handleSelectEnemy(event) {\n    answerInput.focus();\n\n    const clickedEnemy = enemies.find(\n        (enemy) => enemy.element === event.currentTarget\n    );\n\n    if (clickedEnemy === selectedEnemy) return;\n\n    if (selectedEnemy) selectedEnemy.toggleSelect();\n\n    clickedEnemy.toggleSelect();\n\n    selectedEnemy = clickedEnemy;\n}\n\nfunction damageCastle(amount) {\n    scoreHandler.addPoints(settings.POINTS.CASTLE_LIFE_LOST);\n    castle.damage(amount, gameOver);\n}\n\nfunction gameOver() {\n    gameState = GAMESTATES.GAMEOVER;\n    wrongAnswersEl.textContent = `Wrong Answers: ${wrongAnswers}`;\n    hideElement(gamePage);\n    showElement(gameOverPage, 'flex');\n}\n\nfunction reset() {\n    settings = { ...DEFAULT_SETTINGS };\n    initialiseTimers();\n    scoreHandler.reset();\n    wrongAnswers = 0;\n    answerInput.value = '';\n    castle.setup(settings.castleStartingLives);\n    enemies.forEach((enemy) => enemy.handleDelete());\n}\n\n// PUBLIC FUNCTIONS\n\nfunction start() {\n    reset();\n    answerForm.addEventListener('submit', handleAnswerSubmit);\n    hideElement(startPage);\n    showElement(gamePage, 'flex');\n    gameState = GAMESTATES.RUNNING;\n}\n\nfunction restart() {\n    reset();\n    hideElement(gameOverPage);\n    showElement(gamePage, 'flex');\n    gameState = GAMESTATES.RUNNING;\n}\n\nfunction pause() {\n    gameState = GAMESTATES.PAUSED;\n    enemies.forEach((enemy) => enemy.element.classList.add('not-clickable'));\n}\n\nfunction unPause() {\n    gameState = GAMESTATES.RUNNING;\n    enemies.forEach((enemy) => enemy.element.classList.remove('not-clickable'));\n}\n\nfunction update(deltaTime) {\n    if (gameState !== GAMESTATES.RUNNING) return;\n\n    Object.keys(timers).forEach((key) => timers[key].tick(deltaTime));\n\n    enemies.forEach((enemy) => enemy.update(deltaTime));\n}\n\nfunction draw() {\n    gameTimer.textContent = timers.gameTimer.getHumanTimeRemaining();\n\n    enemies.forEach((enemy) => enemy.draw());\n}\n\nexport default Object.freeze({\n    GAMESTATES,\n    get gameState() {\n        return gameState;\n    },\n    start,\n    restart,\n    pause,\n    unPause,\n    update,\n    draw,\n});\n","function Enemy({\n    position: { x, y },\n    speed,\n    question,\n    fieldWidth,\n    handleSelectEnemy,\n    damageCastle,\n    deleteEnemy,\n} = {}) {\n    const width = 50;\n    const height = 50;\n    const position = { x, y };\n    const element = createElement();\n\n    // PRIVATE FUNCTIONS\n\n    function createElement() {\n        const enemyElement = document.createElement('div');\n        const questionElement = document.createElement('div');\n\n        // set enemy element styles\n        enemyElement.classList.add('enemy');\n        enemyElement.style.width = `${width}px`;\n        enemyElement.style.height = `${height}px`;\n\n        // set question element styles and text\n        questionElement.classList.add('enemy-question');\n        questionElement.textContent = question.text;\n\n        enemyElement.appendChild(questionElement);\n\n        enemyElement.addEventListener('click', handleSelectEnemy);\n\n        return enemyElement;\n    }\n\n    function hasHitCastle() {\n        return position.x >= fieldWidth - width;\n    }\n\n    // PUBLIC FUNCTIONS\n\n    function update(deltaTime) {\n        if (hasHitCastle()) {\n            handleDelete();\n            damageCastle(1);\n            return;\n        }\n        // multiply speed by deltaTime in seconds\n        // for consistent movement across different framerates\n        position.x += speed * (deltaTime / 1000);\n    }\n\n    function draw() {\n        // draw the enemy to different position\n        element.style.transform = `translate(${position.x}px, ${position.y}px)`;\n    }\n\n    function handleDelete() {\n        deleteEnemy(element);\n        element.remove();\n    }\n\n    function toggleSelect() {\n        element.classList.toggle('selected');\n    }\n\n    return Object.freeze({\n        update,\n        draw,\n        handleDelete,\n        toggleSelect,\n        question,\n        get element() {\n            return element;\n        },\n    });\n}\n\nexport default Enemy;\n","import './styles/styles.css';\nimport Engine from './modules/engine';\nimport game from './modules/game';\n\nconst engine = new Engine(game.update, game.draw);\n\nconst startButton = document.querySelector('.start-button');\nconst restartButton = document.querySelector('.restart-button');\nconst pauseButton = document.querySelector('.pause-button');\n\nfunction startGame() {\n    engine.start();\n    game.start();\n}\n\nfunction pauseGame() {\n    const pauseButtonText = ['Continue', 'Pause'];\n    const [first, second] = pauseButtonText;\n    if (game.gameState === game.GAMESTATES.RUNNING) {\n        game.pause();\n        engine.stop();\n        pauseButton.textContent = first;\n    } else if (game.gameState === game.GAMESTATES.PAUSED) {\n        engine.start();\n        game.unPause();\n        pauseButton.textContent = second;\n    }\n}\n\nstartButton.addEventListener('click', startGame);\nrestartButton.addEventListener('click', game.restart);\npauseButton.addEventListener('click', pauseGame);\n"],"sourceRoot":""}